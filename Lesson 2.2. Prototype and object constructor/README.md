<h1>Домашнее задание к лекции 2.2 «Прототип и конструктор объекта»</h1>
<p>Перед началом работы скопируйте код ниже и вставьте его в начало своей работы:</p>
<p>
var positions = [<br>
  {<br>
    title: 'Телепорт бытовой VZHIH-101',<br>
    price: 10000,<br>
    discount: 7,<br>
    available: 3<br>
  },<br>
  {<br>
    title: 'Ховерборд Mattel 2016',<br>
    price: 9200,<br>
    discount: 4,<br>
    available: 14<br>
  },<br>
  {<br>
    title: 'Меч световой FORCE (синий луч)',<br>
    price: 57000,<br>
    discount: 0,<br>
    available: 1<br>
  }<br>
];  
</p>

<h2>Задача 1. Резервирование.</h2>
<p>Компания наняла еще одного разработчика, который реализовал нам функционал резервирования товаров. Нужно разобраться, как он работает, и добавить в него функцию отмены резерва.</p>
<p>
  const itemPrototype = {<br>
  hold(amount = 1) {<br>
    if (this.available < amount) {<br>
      return false;<br>
    }<br>
    this.available -= amount;<br>
    this.holded += amount;<br>
    return true;<br>
  },<br>
  toString() {<br>
    return `${this.title} (остаток ${this.available}, в резерве ${this.holded})`;<br>
  }<br>
};<br>
<br>
function createItem(title, amount) {<br>
  const item = Object.create(itemPrototype);<br>
  item.title = title;<br>
  item.available = amount;<br>
  item.holded = 0;<br>
  return item;<br>
}<br>
<br>
const items = [];<br>
for (let item of positions) {<br>
  items.push(createItem(item.title, item.available));<br>
}<br>
<br>
items[0].hold(2);<br>
items[1].hold(8);<br>
items[1].hold(12);<br>
items[2].hold(1);<br>

for (let item of items) {<br>
  console.log(`Товар ${item}`);<br>
}
</p>
<p>Реализовать функцию unhold, которая будет отменять резервирование товара. Функция должна принимать количество товара, которое нужно снова сделать доступным.</p>
<p>Функция должна вернуть истину, если отменить резервирование удалось, и ложь, если нет. Она должна проверить, есть ли достаточное количество товара в резерве (свойство holded), и если есть, сделать его доступным (уменьшить hold и увеличить available на указанное количество). Если вызвать функцию без аргументов, то должен быть отменен весь резерв.</p>
<p>Выведите все товары из массива items в формате: "Товар Телепорт бытовой VZHIH-101 (остаток 2, в резерве 1)"</p>
    
<h2>Задача 2. Цена со скидкой</h2>
<p>Без скидок торговля совсем не идет. Но наши менеджеры настолько плохо понимают проценты, что иногда выставляют счета, в которых цена со скидкой больше базовой цены. Чтобы нам защититься от них, добавьте в объекты товаров информацию о цене со скидкой.</p>
<p>Добавить всем объектам из массива positions свойство с конечной ценой finalPrice, в котором будет базовая цена товара из свойства price с учетом скидки из свойства discount. При этом при изменении размера скидки или базовой цены конечная цена должна меняться. Если задать новую конечную цену товара, то должна обновиться скидка. Если задать конечную цену, большую, чем базовая цена, должно бросаться исключение с пояснением причины.</p>

<h2>Задача 3. Проверка полей</h2>
<p>Наш контент-менеджер создает в день до сотни новых товаров. Но как мы выяснили, он просто не заполняет половину полей в форме. Нужно запретить ему это делать.</p>
<p>Реализовать функцию isValidPosition, которая будет принимать объект товара и массив обязательных свойств. Если все свойства в объекте присутствуют, функция должна вернуть истину, иначе ложь. Аргументы:</p>
<ul>
  <li>товар из формы, заполненной пользователем, объект;</li>
  <li>список обязательных свойств, массив.</li>
</ul>
<p>Функция должна вернуть true, если все обязательные поля есть в товаре, иначе вернуть false.</p>